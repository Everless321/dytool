# 批量编辑与下载用户选择功能

## 任务描述
用户列表添加批量编辑功能（设置抓取数量，可多选），下载视频时支持多选下载用户

## 待办事项
- [x] UserListView 添加多选模式
- [x] UserListView 添加批量设置抓取数量 Sheet
- [x] DownloadView 添加用户选择面板
- [x] DownloadState.startDownload 支持接收指定用户列表
- [x] DouyinUser 添加 Equatable 协议（修复编译错误）

## 执行结果

### 修改文件

1. **Models.swift** - DouyinUser 添加 Equatable 协议
```swift
struct DouyinUser: Identifiable, Codable, Equatable {
```

2. **UserListView.swift** - 批量编辑功能
   - 新增 `isEditMode` 状态控制多选模式
   - 新增 `selectedUsers: Set<String>` 存储选中用户
   - 新增 BatchEditSheet 组件，支持快捷按钮设置数量（10/20/50/100/不限）
   - 多选模式下显示全选/取消全选按钮

3. **DownloadView.swift** - 用户选择下载
   - 新增 `selectedUserIds: Set<String>` 存储选中用户
   - 新增 `showUserSelection` 控制面板展开/收起
   - 用户选择面板支持全选/单选
   - 开始下载按钮显示选中用户数量
   - 下载时只下载选中的用户

4. **DownloadState.swift** - 支持指定用户下载
```swift
func startDownload(users: [DouyinUser]? = nil) {
    let usersToDownload = users ?? DatabaseService.shared.users
    // ...
}
```

### 编译状态
BUILD SUCCEEDED
